---
sidebar_position: 6
title: Налаштування таймаутів
description: Керування таймаутами з'єднання та читання для API-запитів
---

# Налаштування таймаутів

Керуйте часом очікування, щоб контролювати, як довго система чекає відповіді від API.

## Типи таймаутів

![Timeout Settings](/img/api-sync/timeout-settings.png)
*Налаштування таймаутів з'єднання та читання*

### Таймаут з'єднання

- **Призначення**: максимальний час на встановлення з'єднання з API-сервером
- **Значення за замовчуванням**: 5 секунд
- **Діапазон**: 1–60 секунд
- **Коли збільшувати**: повільні мережі або віддалені дата-центри

### Таймаут читання

- **Призначення**: максимальний час очікування даних після встановлення з'єднання
- **Значення за замовчуванням**: 15 секунд
- **Діапазон**: 1–300 секунд
- **Коли збільшувати**: великі обсяги даних або повільна обробка API

## Кроки налаштування

1. Відкрийте потрібну конфігурацію API
2. Знайдіть секцію **Timeout Settings**
3. Встановіть **Connection Timeout in Seconds**
4. Вкажіть **Read Timeout in Seconds**
5. Збережіть зміни

## Рекомендовані параметри

### Локальні швидкі API
- Connection Timeout: 2 seconds
- Read Timeout: 5 seconds

### Хмарні API
- Connection Timeout: 5 seconds
- Read Timeout: 15 seconds

### Повільні зовнішні API
- Connection Timeout: 10 seconds
- Read Timeout: 30 seconds

### Передача великих даних
- Connection Timeout: 5 seconds
- Read Timeout: 60–300 seconds

## Обробка таймаутів

### Відповіді з помилкою

У разі таймауту повертається:

```json
{
  "status": "error",
  "code": 408,
  "message": "Request Timeout",
  "details": "Connection timeout after 5 seconds"
}
```

### Логіка повторних спроб

Реалізуйте автоматичне повторення запиту при таймаутах:

```python
import time

max_retries = 3
retry_delay = 2  # seconds

for attempt in range(max_retries):
    try:
        response = make_request()
        break
    except TimeoutError:
        if attempt < max_retries - 1:
            time.sleep(retry_delay * (attempt + 1))
        else:
            raise
```

## Оптимізація продуктивності

### Фактори, що впливають на таймаути

1. **Мережева затримка**: відстань до сервера
2. **Навантаження сервера**: час обробки на стороні API
3. **Обсяг даних**: кількість переданих записів
4. **Складність запиту**: ресурси, необхідні API для відповіді

### Поради з оптимізації

1. **Використовуйте пагінацію**: розбивайте великі запити на менші порції
2. **Кешуйте дані**: зберігайте часто запитувані результати
3. **Оптимізуйте запити**: запитуйте лише необхідні поля
4. **Моніторте продуктивність**: відстежуйте середній час відповіді
5. **Балансування навантаження**: розподіляйте запити між кількома ендпоінтами

## Усунення несправностей

### Типові проблеми

| Проблема | Можлива причина | Рішення |
|----------|-----------------|---------|
| Часті таймаути з'єднання | Мережеві збої | Збільште connection timeout |
| Таймаут читання на великих відповідях | Повільна обробка | Підвищіть read timeout або додайте пагінацію |
| Періодичні таймаути | Перевантаження сервера | Додайте повторні спроби |
| Постійні таймаути | Обмеження мережі | Перевірте firewall чи проксі |

### Кроки діагностики

1. Перевірте ендпоінт через curl/Postman
2. Переконайтеся в стабільності мережевого з'єднання
3. Відстежуйте час відповіді сервера
4. Перегляньте документацію API щодо обмежень
5. Зверніться до провайдера API, якщо проблема не зникає

## Найкращі практики

1. **Починайте з вищих значень**: поступово зменшуйте таймаути після тестування
2. **Моніторте метрики**: відстежуйте кількість таймаутів у логах
3. **Реалізуйте fallback-сценарії**: обробляйте випадки, коли API недоступне
4. **Документуйте параметри**: пояснюйте, чому обрано певні значення
5. **Тестуйте в різних умовах**: перевіряйте роботу при різних мережевих затримках

## Пов’язана документація

- [Оптимізація продуктивності](../performance-optimization)
- [Усунення несправностей](../troubleshooting)
- [API Reference](../api-reference/)
